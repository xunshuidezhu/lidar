# lidar_tf
## 1.测试部署环境：
### ubuntu 16.04, gcc 5.4.0, ros kinetic
## 2.架构设计
### 1.master节点负责注册其他节点ip,端口号,管理进程间通信
### 2.listener节点作为主线程，负责循环监听topic，并将待通信的节点进入请求队列，注册read节点
### 3.请求队列会唤醒线程池的空闲线程，创建读取topic的read线程，read节点读取数据之后会向请求队列注册worker节点，read线程会针对特定数据进行数据转发，存储等操作
### 4.worker节点为工作线程，针对从read读取的特定数据进行算法计算（如pcl点云，opencv图像，目标检测等）
### 5.listener节点只做监听，不做io处理也不做算法计算，read节点只做数据io，worker节点只做算法计算，节点之间松耦合，一个节点出问题不影响其他节点继续进行
![frame](frame.jpg)
## 3.压力测试
### 300wbytes大小字符串作为传输数据，包头1400bytes，cpu占用率为16%（i7,8核），内存占用为3G
## 4.测试效果
### 传输速率 120Mb/s，发包11263929bytes, 丢包8769bytes,丢包率不足1%，
